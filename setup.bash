#!/bin/bash
# This file is generated! Edit setup-script.bash instead. See README for more details.

# http://redsymbol.net/articles/unofficial-bash-strict-mode/
set -euo pipefail
IFS=$'\n\t'

unameOut="$(uname -s)"
case "${unameOut}" in
    Linux*)     machine=Linux;;
    Darwin*)    machine=Mac;;
    CYGWIN*)    machine=Windows;;
    MINGW*)     machine=Windows;;
    *)          machine="UNKNOWN:${unameOut}"
esac


echo "Alloverse app setup wizard"
echo "--------------------------"

if [ -d "allo" ]; then
    echo "Project already initialized; use \`./allo/assist upgrade\` to fetch latest version."
    exit
fi

PROJNAME=`basename $(pwd)`

read -p "Create new project '$PROJNAME'? (Y/n) " answer
if [ "$answer" == "n" ] ; then
    echo "Exiting..."
    exit
fi

if [ ! -d ".git" ]; then
    echo "git init'ing"
    git init
fi

echo
echo "EXTRACTING template app..."

if [[ "$machine" == "Mac" ]]
then
    baseargs="-D"
else
    baseargs="-d"
fi
base64 $baseargs <<EOF | tar xz
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
EOF

sed -i".bak" "s#__PROJNAME__#${PROJNAME}#g" lua/main.lua
rm lua/main.lua.bak

echo
echo "FETCHING git dependencies..."

mkdir -p allo/deps
git submodule add -f https://github.com/alloverse/alloui-lua allo/deps/alloui
git submodule update --init --recursive allo/deps/alloui
git submodule add -f https://github.com/luapower/luajit.git allo/deps/luajit-bin

echo
echo "DOWNLOADING libraries using assist..."

./allo/assist upgrade
